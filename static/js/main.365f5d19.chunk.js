(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(t,e,n){},26:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var c,a=n(0),r=n.n(a),i=n(8),o=n.n(i),s=(n(25),n(26),n(6)),u=n(2),l=n(5),j=n(7),d=n(13),h=n.n(d),b=n(18),O=n(10),f=Object(O.b)("weather/getWeatherByCoordinates",function(){var t=Object(b.a)(h.a.mark((function t(e,n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.dispatch,c="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(e.latitude,"&lon=").concat(e.longitude,"&appid=94ba1824f5bc142ac1082520e96f2e36"),t.next=4,fetch(c).then((function(t){return t.json()}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),p=Object(O.b)("weather/getWeatherByCity",function(){var t=Object(b.a)(h.a.mark((function t(e,n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.dispatch,c="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e.city,",").concat(e.country,"&appid=94ba1824f5bc142ac1082520e96f2e36"),t.next=4,fetch(c).then((function(t){return t.json()}));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),x=Object(O.c)({name:"weather",initialState:{weatherData:null,status:null},extraReducers:(c={},Object(j.a)(c,f.pending,(function(t){t.status="loading"})),Object(j.a)(c,f.fulfilled,(function(t,e){t.status="success",t.weatherData=e.payload})),Object(j.a)(c,f.rejected,(function(t){t.status="failed"})),Object(j.a)(c,p.pending,(function(t){t.status="loading"})),Object(j.a)(c,p.fulfilled,(function(t,e){t.status="success",t.weatherData=e.payload})),Object(j.a)(c,p.rejected,(function(t){t.status="failed"})),c)}),m=n(14),w=n(20),v=Object(O.c)({name:"location",initialState:{location:null,position:null},reducers:{setLocation:function(t,e){t.location=e.payload},clearLocation:function(t){t.location=t},setPosition:function(t,e){t.position=e.payload}}}),g=Object(O.a)({reducer:{location:v.reducer,weather:x.reducer}}),y=v.actions,N=(x.actions,g),C=n(1),k=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.location.location})),n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(""),j=Object(l.a)(o,2),d=j[0],h=j[1],b=Object(a.useState)(!1),O=Object(l.a)(b,2),f=O[0],x=O[1];Object(a.useEffect)((function(){t(p(e))}),[t,e]);var v=function(t){return Object(C.jsxs)(m.a,Object(u.a)(Object(u.a)({},t),{},{size:"md","aria-labelledby":"contained-modal-title-vcenter",centered:!0,style:{color:"#750404",fontSize:"20px",fontWeight:"500"},children:[Object(C.jsx)(m.a.Header,{closeButton:!0,children:"Please Note!"}),Object(C.jsx)(m.a.Body,{children:Object(C.jsx)("p",{children:"City and Country cannot be left blank"})}),Object(C.jsx)(m.a.Footer,{children:Object(C.jsx)(w.a,{onClick:function(){return x(!1)},children:"Got it"})})]}))};return Object(C.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),""===r||""===d?x(!0):t(y.setLocation({city:r,country:d})),e.target.reset()}(e)},children:[Object(C.jsxs)("div",{className:"row p-5 justify-content-center",children:[Object(C.jsx)("div",{className:"col-sm-4",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"city",name:"city",placeholder:"City",onChange:function(t){return i(t.target.value)}})}),Object(C.jsx)("div",{className:"col-sm-4",children:Object(C.jsx)("input",{type:"text",className:"form-control",id:"country",name:"country",placeholder:"Country",onChange:function(t){return h(t.target.value)}})})]}),Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-sm-4",children:Object(C.jsx)("button",{id:"get-weather",children:"Get Weather"})})}),Object(C.jsx)(v,{show:f,onHide:function(){return x(!1)}})]})},D=function(){var t=Object(s.c)((function(t){return t.weather.weatherData})),e=t.list[0].main,n=e.temp,c=e.temp_min,r=e.temp_max,i=e.humidity,o=t.list[0].wind.speed,u="https://openweathermap.org/img/wn/".concat(t.list[0].weather[0].icon,"@2x.png");console.log(t);var j=Object(a.useState)("fahrenheit"),d=Object(l.a)(j,2),h=d[0],b=d[1],O=function(t){return Math.round(5/9*(t-32))};return Object(C.jsxs)("div",{id:"weather-data",children:[Object(C.jsxs)("p",{id:"location",children:[t.city.name,", \xa0",t.city.country,Object(C.jsx)("br",{}),Object(C.jsx)("img",{src:u,alt:"weather icon"}),"fahrenheit"===h?"".concat(n," \xb0F"):"".concat(O(n)," \xb0C ")]}),Object(C.jsxs)("label",{children:["\xb0F \xa0",Object(C.jsx)("input",{type:"radio",value:"f",checked:"fahrenheit"===h,onChange:function(){return b("fahrenheit")}})]})," ","\xa0",Object(C.jsxs)("label",{children:["\xb0C \xa0",Object(C.jsx)("input",{type:"radio",value:"c",checked:"celsius"===h,onChange:function(){return b("celsius")}})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("p",{children:["Min temperature:"," ","fahrenheit"===h?"".concat(Math.round(c)," \xb0F"):"".concat(O(c)," \xb0C ")," "]}),Object(C.jsxs)("p",{children:["Max temperature:"," ","fahrenheit"===h?"".concat(Math.round(r)," \xb0F"):"".concat(O(r)," \xb0C ")]}),Object(C.jsxs)("p",{children:["Humidity: ",i," %"]}),Object(C.jsxs)("p",{children:["Wind speed: ",o,"m/s"]})]})},S=function(){var t=Object(s.c)((function(t){return t.weather.status})),e=Object(s.c)((function(t){return t.weather.weatherData})).weatherData;return"loading"===t?Object(C.jsxs)("div",{id:"weather-data",children:[Object(C.jsx)("p",{children:"Working on it!"}),Object(C.jsx)("p",{children:"This should only take a moment"})]}):null!==e&&"success"===t?Object(C.jsx)(D,{}):null},W=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.location.position}));Object(a.useEffect)((function(){t(f(e))}),[t,e]);return Object(C.jsx)("div",{children:Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-xs-4",children:Object(C.jsx)("button",{onClick:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var n=e.coords.latitude,c=e.coords.longitude;t(y.setPosition({latitude:n,longitude:c}))}))},children:"Current Location"})})})})},F=function(){var t=Object(s.c)((function(t){return t.location.location})),e=Object(s.c)((function(t){return t.weather.weatherData})),n=Object(s.c)((function(t){return t.weather.status}));return console.log("currentLocation = ",t,"  weatherData = ",e," status = ",n),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)("div",{className:"container",children:[Object(C.jsx)("div",{className:"row",children:Object(C.jsx)("div",{className:"col-6 title mt-5",children:Object(C.jsx)("h1",{children:" Weather App"})})}),Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-12",children:Object(C.jsx)(k,{})})}),Object(C.jsx)("div",{className:"row justify-content-center mt-3",children:Object(C.jsx)("div",{className:"col-sm-4",children:Object(C.jsx)(W,{})})}),Object(C.jsx)("div",{className:"row justify-content-center",children:Object(C.jsx)("div",{className:"col-4",children:null!==e&&"success"===n&&Object(C.jsx)(S,{})})})]})})};var B=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{className:"main-image",children:Object(C.jsx)(F,{})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(34),n(35);o.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(s.a,{store:N,children:Object(C.jsx)(B,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.365f5d19.chunk.js.map